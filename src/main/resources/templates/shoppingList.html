<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" xmlns:sec="https://www.thymeleaf.org">

<div th:insert="~{index.html :: head}"></div>

<body>
    
    <!--  Header  -->
    <div th:insert="~{index.html :: header}"></div>

    <!--  Navbar  -->
    <div th:insert="~{index.html :: navbar}"></div>


    <!-- Shopping List -->
    <div class="container my-5 px-auto border-2">
        <!-- 
        <table class="table table-hover mx-auto px-auto">
            <thead>
                <tr>
                    <th scope="col">Name</th>
                    <th scope="col">Type</th>
                    <th scope="col">Size</th>
                    <th scope="col">No Units</th>
                    <th scope="col">Del</th>
                </tr>
            </thead>
            <tbody>
                <tr th:each="product : ${products}"
                    th:sort="${product.getId()}">
                    
                    <td class="border-1 text-center">
                        <span th:text="${product.getName}"></span>
                    </td>
                    <td class="border-1 text-center">
                        <span th:text="${product.getType}"></span>
                    </td>
                    <td class="border-1 text-center">
                        <span th:text="${product.getSizeOfUnit}"></span>
                    </td>
                    <td class="border-1 text-center">
                        <span th:text="${product.getNumOfUnits}"></span>
                    </td>
                    <td class="border-1 text-center">
                        <a type="button" class="col btn btn-primary btn-sm btn-block
                            p-auto m-1"
                            th:href="@{/deleteProduct/{id}(id=${product.getId()})}">
                            Del
                        </a>
                    </td>
                </tr>
            </tbody>
        </table>
        -->

        <div class="container mx-2 px-2">
            <div class="row">
                <div class="col-sm-12 col-md-4 col-lg-2" th:each="product : ${products}"
                     th:sort="${product.getId()}">
                    <div class="row product-tile mx-0 px-0">
                        <div class="col-10" data-container="body"
                            data-toggle="popover" data-placement="top"
                            data-content="Test">
                            <span class="d-inline-block text-decoration-none text-truncate"
                                style="max-width: 100%;"
                                th:text="${product.getName} + ' ' 
                                    + ${product.getType} + ' ' 
                                    + ${product.getSizeOfUnit}">
                            </span>
                        </div>
                        <button class="col-2 btn btn-outline-warning
                                d-flex justify-content-center align-items-center"
                            th:href="@{/deleteProduct/{id}(id=${product.getId()})}">
                            <i class="bi bi-trash3"></i>
                            
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Add new product to list -->
        <div class="container row my-2 mx-auto p-2 mb-3">
            <div class="col-6 offset-3 px-auto" >
                <!--/*@thymesVar id="product" type="com.springShoppingBot.SpringShoppingBot.product.Product"*/-->
                <form th:action="@{/product/addNewProduct}" th:object="${product}" th:method="post"
                    class="row">
                    <legend class="col-12 text-center">Add product to list</legend>
                    <fieldset class="col-12 px-0 form-group">
                        <label class="form-label" for="name">Name *</label>
                        <input class="form-field" id="name" type="text" name="name">
                    </fieldset>
                    <fieldset class="col-12 px-0 form-group">
                        <label class="form-label" for="type">Type</label>
                        <input class="form-field" id="type" type="text" name="type">
                    </fieldset>
                    <fieldset class="col-12 px-0 form-group">
                        <label class="form-label" for="sizeOfUnit">Size</label>
                        <input class="form-field" id="sizeOfUnit" type="text" name="sizeOfUnit">
                    </fieldset>
                    <fieldset class="col-12 px-0 form-group">
                        <label class="form-label" for="numOfUnits">Quantity *</label>
                        <input class="form-field" id="numOfUnits" type="text" name="numOfUnits">
                    </fieldset>
                    <span class="col-12 blockquote fst-italic"
                        style="font-size: 12px; text-align: right;">
                        * Required fields
                    </span>
                    <button class="col-12 btn btn-lg btn-success mx-auto" type="submit">Add</button>
                </form>
            </div>
        </div>
        <!-- 
            <script>
                $(function () {
                    $('.example-popover').popover({
                        container: 'body'
                    })
                })
            </script>
        -->
    </div>

</body>
</html>